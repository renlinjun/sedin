webpackJsonp([2],{"/8vw":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"increment",function(){return s}),n.d(t,"decrement",function(){return r});var s=function(e){(0,e.commit)("INCREMENT")},r=function(e){(0,e.commit)("DECREMENT")}},0:function(e,t,n){n("j1ja"),e.exports=n("NHnr")},"3qS8":function(e,t){},"58wM":function(e,t){},"F/iW":function(e,t){},Fs8J:function(e,t,n){"use strict";t.a={data:function(){return{sysName:"赛鼎工程有限公司",collapsed:!1,sysUserName:"",sysUserAvatar:"",form:{name:"",region:"",date1:"",date2:"",delivery:!1,type:[],resource:"",desc:""}}},methods:{onSubmit:function(){console.log("submit!")},handleopen:function(){},handleclose:function(){},handleselect:function(e,t){},logout:function(){var e=this;this.$confirm("确认退出吗?","提示",{}).then(function(){sessionStorage.removeItem("user"),e.$router.push("/")}).catch(function(){})},collapse:function(){this.collapsed=!this.collapsed;var e=document.getElementById("lastclass");0===e.offsetWidth&&(e.style.width="230px")},showMenu:function(e,t){this.$refs.menuCollapsed.getElementsByClassName("submenu-hook-"+e)[0].style.display=t?"block":"none"}},mounted:function(){var e=sessionStorage.getItem("user");e&&(e=JSON.parse(e),this.sysUserName=e.name||"",this.sysUserAvatar=e.avatar||"")}}},M93x:function(e,t,n){"use strict";function s(e){n("Q8yg")}var r=n("xJD8"),o=n("su6S"),a=n("VU/8"),i=s,u=a(r.a,o.a,!1,i,null,null);t.a=u.exports},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n("7+uW"),r=n("M93x"),o=n("YaEn"),a=n("zL8q"),i=n.n(a),u=n("q8zI"),l=(n.n(u),n("YtJ0")),c=n("NYxO"),d=n("j1ja"),p=(n.n(d),n("e0XP"));n.n(p);s.default.config.productionTip=!1,s.default.use(i.a),s.default.use(c.a),new s.default({el:"#app",router:o.a,store:l.a,template:"<App/>",components:{App:r.a}})},P9l9:function(e,t,n){"use strict";n.d(t,"f",function(){return c}),n.d(t,"d",function(){return d}),n.d(t,"e",function(){return p}),n.d(t,"b",function(){return f}),n.d(t,"c",function(){return m}),n.d(t,"a",function(){return h});var s=n("//Fk"),r=n.n(s),o=n("mtWM"),a=n.n(o),i=n("mw3O"),u=n.n(i),l="http://localhost";a.a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",a.a.interceptors.request.use(function(e){return sessionStorage.JWT&&(e.headers.Authorization="Bearer "+sessionStorage.JWT),console.log(e),e},function(e){return r.a.reject(e)});var c=function(e){return a.a.post(l+"/j_spring_security_check",u.a.stringify(e)).then(function(e){return e.data})},d=function(e){return a.a.get(l+"/user/list",{params:e})},p=function(e){return a.a.get(l+"/user/remove",{params:e})},f=function(e){return a.a.get(l+"/user/batchremove",{params:e})},m=function(e){return a.a.post(l+"/user/edit",e).then(function(e){return e.data})},h=function(e){return a.a.post(l+"/user/add",e).then(function(e){return e.data})}},Q8yg:function(e,t){},UqbS:function(e,t,n){"use strict";var s=function(){var e=this,t=e.$createElement;return(e._self._c||t)("p",{staticClass:"page-container"},[e._v("404 page not found")])},r=[],o={render:s,staticRenderFns:r};t.a=o},WMeU:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"getCount",function(){return s});var s=function(e){return e.count}},YaEn:function(e,t,n){"use strict";var s=n("7+uW"),r=n("/ocq"),o=n("xJsL"),a=n("YcJa"),i=n("lO7g");s.default.use(r.a);var u=new Array;u.push({path:"/",name:"login",component:o.default,hidden:!0}),u.push({path:"/404",component:a.default,name:"",hidden:!0});var l=window.sessionStorage.routes;if(l)for(var c=JSON.parse(l),d=0;d<c.length;d++){var p=c[d];p.component=i.default;for(var f=0;f<p.children.length;f++)!function(e){var t=p.children[e];t.component=function(e){return n.e(0).then(function(){var s=[n("gU6J")("./"+t.filePath)];e.apply(null,s)}.bind(this)).catch(n.oe)}}(f);u.push(p)}u.push({path:"*",hidden:!0,redirect:{path:"/404"}});var m=new r.a({routes:u});m.beforeEach(function(e,t,n){"/"==e.path&&(sessionStorage.removeItem("user"),sessionStorage.JWT=""),JSON.parse(sessionStorage.getItem("user"))||"/"==e.path?n():n({path:"/"})}),t.a=m},YcJa:function(e,t,n){"use strict";function s(e){n("58wM")}Object.defineProperty(t,"__esModule",{value:!0});var r=n("UqbS"),o=n("VU/8"),a=s,i=o(null,r.a,!1,a,"data-v-adcaf7b8",null);t.default=i.exports},YtJ0:function(e,t,n){"use strict";var s=n("7+uW"),r=n("NYxO"),o=n("/8vw"),a=n("WMeU");s.default.use(r.a);var i={count:10},u={INCREMENT:function(e){e.count++},DECREMENT:function(e){e.count--}};t.a=new r.a.Store({actions:o,getters:a,state:i,mutations:u})},e0XP:function(e,t){},lO7g:function(e,t,n){"use strict";function s(e){n("3qS8")}Object.defineProperty(t,"__esModule",{value:!0});var r=n("Fs8J"),o=n("xkrL"),a=n("VU/8"),i=s,u=a(r.a,o.a,!1,i,"data-v-1bc0cf14",null);t.default=u.exports},"nKb+":function(e,t,n){"use strict";var s=n("mvHQ"),r=n.n(s),o=n("P9l9"),a=n("NC6I"),i=(n.n(a),n("xJsL")),u=n("YcJa"),l=n("lO7g");t.a={data:function(){return{logining:!1,ruleForm2:{userId:"",password:""},rules2:{userId:[{required:!0,message:"请输入账号",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},checked:!0}},methods:{handleReset2:function(){this.$refs.ruleForm2.resetFields()},getUrlKey:function(e){return decodeURIComponent((new RegExp("[?|&]"+e+"=([^&;]+?)(&|#|;|$)").exec(location.href)||[,""])[1].replace(/\+/g,"%20"))||null},handleSubmit2:function(e){var t=this,s=this;this.$refs.ruleForm2.validate(function(e){if(!e)return console.log("error submit!!"),!1;t.logining=!0;var a={username:t.ruleForm2.userId,password:t.ruleForm2.password,visit:s.getUrlKey("uri")};Object(o.f)(a).then(function(e){t.logining=!1;var o=e.success,a=(e.code,e.msg),c=e.data;if(o){var d=s.getUrlKey("uri");if(d)return-1==d.indexOf("?")?d+="?ticket="+c.ticket:d+="&ticket="+c.ticket,void(window.location.href=d);console.log(c),sessionStorage.setItem("user",r()(c.user)),sessionStorage.JWT=c.user.token,t.$router.options.routes.splice(0,t.$router.options.routes.length),t.$router.options.routes.push({path:"/",name:"login",component:i.default,hidden:!0}),t.$router.options.routes.push({path:"/404",component:u.default,name:"",hidden:!0});var p=c.authority.menus;sessionStorage.routes=r()(p);for(var f=0;f<p.length;f++){var m=p[f];m.component=l.default;for(var h=0;h<m.children.length;h++)!function(e){var t=m.children[e];console.log(t),t.component=function(e){return n.e(0).then(function(){var s=[n("gU6J")("./"+t.filePath)];e.apply(null,s)}.bind(this)).catch(n.oe)}}(h);t.$router.options.routes.push(m)}t.$router.options.routes.push({path:"*",hidden:!0,redirect:{path:"/404"}}),t.$router.addRoutes(t.$router.options.routes),t.$router.push({path:"/main"})}else t.$message({message:a,type:"error"})})})}}}},ohjW:function(e,t,n){"use strict";var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-form",{ref:"ruleForm2",staticClass:"demo-ruleForm login-container",attrs:{model:e.ruleForm2,rules:e.rules2,"label-position":"left","label-width":"0px"}},[n("h3",{staticClass:"title"},[e._v("系统登录")]),e._v(" "),n("el-form-item",{attrs:{prop:"userId"}},[n("el-input",{attrs:{type:"text","auto-complete":"off",placeholder:"账号"},model:{value:e.ruleForm2.userId,callback:function(t){e.$set(e.ruleForm2,"userId",t)},expression:"ruleForm2.userId"}})],1),e._v(" "),n("el-form-item",{attrs:{prop:"password"}},[n("el-input",{attrs:{type:"password","auto-complete":"off",placeholder:"密码"},model:{value:e.ruleForm2.password,callback:function(t){e.$set(e.ruleForm2,"password",t)},expression:"ruleForm2.password"}})],1),e._v(" "),n("el-form-item",{staticStyle:{width:"100%"}},[n("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary",loading:e.logining},nativeOn:{click:function(t){t.preventDefault(),e.handleSubmit2(t)}}},[e._v("登录")])],1)],1)},r=[],o={render:s,staticRenderFns:r};t.a=o},q8zI:function(e,t){},su6S:function(e,t,n){"use strict";var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("transition",{attrs:{name:"fade",mode:"out-in"}},[n("router-view")],1)],1)},r=[],o={render:s,staticRenderFns:r};t.a=o},xJD8:function(e,t,n){"use strict";t.a={name:"app",components:{}}},xJsL:function(e,t,n){"use strict";function s(e){n("F/iW")}Object.defineProperty(t,"__esModule",{value:!0});var r=n("nKb+"),o=n("ohjW"),a=n("VU/8"),i=s,u=a(r.a,o.a,!1,i,"data-v-7a3dfa04",null);t.default=u.exports},xkrL:function(e,t,n){"use strict";var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-row",{staticClass:"container"},[n("el-col",{staticClass:"header",attrs:{span:24}},[n("el-col",{staticClass:"logo",class:e.collapsed?"logo-collapse-width":"logo-width",attrs:{span:10}},[e._v("\n\t\t\t"+e._s(e.collapsed?"":e.sysName)+"\n\t\t")]),e._v(" "),n("el-col",{attrs:{span:10}},[n("div",{staticClass:"tools",on:{click:function(t){t.preventDefault(),e.collapse(t)}}},[n("i",{staticClass:"fa fa-align-justify"})])]),e._v(" "),n("el-col",{staticClass:"userinfo",attrs:{span:4}},[n("el-dropdown",{attrs:{trigger:"hover"}},[n("span",{staticClass:"el-dropdown-link userinfo-inner"},[n("img",{attrs:{src:this.sysUserAvatar}}),e._v(" "+e._s(e.sysUserName))]),e._v(" "),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",[e._v("我的消息")]),e._v(" "),n("el-dropdown-item",[e._v("设置")]),e._v(" "),n("el-dropdown-item",{attrs:{divided:""},nativeOn:{click:function(t){e.logout(t)}}},[e._v("退出登录")])],1)],1)],1)],1),e._v(" "),n("el-col",{staticClass:"main",attrs:{span:24}},[n("aside",{class:e.collapsed?"menu-collapsed":"menu-expanded"},[n("el-menu",{directives:[{name:"show",rawName:"v-show",value:!e.collapsed,expression:"!collapsed"}],staticClass:"el-menu-vertical-demo",attrs:{"default-active":e.$route.path,id:"lastclass","unique-opened":"",router:""},on:{open:e.handleopen,close:e.handleclose,select:e.handleselect}},[e._l(e.$router.options.routes,function(t,s){return t.hidden?e._e():[t.leaf?e._e():n("el-submenu",{attrs:{index:s+""}},[n("template",{attrs:{slot:"title"},slot:"title"},[n("i",{class:t.iconCls}),e._v(e._s(t.name))]),e._v(" "),e._l(t.children,function(t){return t.hidden?e._e():n("el-menu-item",{key:t.path,attrs:{index:t.path}},[e._v(e._s(t.name))])})],2),e._v(" "),t.leaf&&t.children.length>0?n("el-menu-item",{attrs:{index:t.children[0].path}},[n("i",{class:t.iconCls}),e._v(e._s(t.children[0].name))]):e._e()]})],2),e._v(" "),n("ul",{directives:[{name:"show",rawName:"v-show",value:e.collapsed,expression:"collapsed"}],ref:"menuCollapsed",staticClass:"el-menu el-menu-vertical-demo collapsed"},e._l(e.$router.options.routes,function(t,s){return t.hidden?e._e():n("li",{staticClass:"el-submenu item"},[t.leaf?[n("li",{staticClass:"el-submenu"},[n("div",{staticClass:"el-submenu__title el-menu-item",class:e.$route.path==t.children[0].path?"is-active":"",staticStyle:{"padding-left":"20px",height:"56px","line-height":"56px",padding:"0 20px"},on:{click:function(n){e.$router.push(t.children[0].path)}}},[n("i",{class:t.iconCls})])])]:[n("div",{staticClass:"el-submenu__title",staticStyle:{"padding-left":"20px"},on:{mouseover:function(t){e.showMenu(s,!0)},mouseout:function(t){e.showMenu(s,!1)}}},[n("i",{class:t.iconCls})]),e._v(" "),n("ul",{staticClass:"el-menu submenu",class:"submenu-hook-"+s,on:{mouseover:function(t){e.showMenu(s,!0)},mouseout:function(t){e.showMenu(s,!1)}}},e._l(t.children,function(t){return t.hidden?e._e():n("li",{key:t.path,staticClass:"el-menu-item",class:e.$route.path==t.path?"is-active":"",staticStyle:{"padding-left":"40px"},on:{click:function(n){e.$router.push(t.path)}}},[e._v(e._s(t.name))])}))]],2)}))],1),e._v(" "),n("section",{staticClass:"content-container"},[n("div",{staticClass:"grid-content bg-purple-light"},[n("el-col",{staticClass:"breadcrumb-container",attrs:{span:24}},[n("strong",{staticClass:"title"},[e._v(e._s(e.$route.name))]),e._v(" "),n("el-breadcrumb",{staticClass:"breadcrumb-inner",attrs:{separator:"/"}},e._l(e.$route.matched,function(t){return n("el-breadcrumb-item",{key:t.path},[e._v("\n\t\t\t\t\t\t\t"+e._s(t.name)+"\n\t\t\t\t\t\t")])}))],1),e._v(" "),n("el-col",{staticClass:"content-wrapper",attrs:{span:24}},[n("transition",{attrs:{name:"fade",mode:"out-in"}},[n("router-view")],1)],1)],1)])])],1)},r=[],o={render:s,staticRenderFns:r};t.a=o}},[0]);
//# sourceMappingURL=app.ca40a501a69b310bfe3e.js.map